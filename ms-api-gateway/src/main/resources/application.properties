# Nombre del servicio
spring.application.name=ms-api-gateway

# Configuración de Eureka
eureka.client.service-url.defaultZone=http://localhost:8761/eureka/
eureka.instance.prefer-ip-address=true
eureka.instance.instance-id=${spring.application.name}:${random.uuid}

spring.cloud.loadbalancer.

# Puerto del API Gateway
server.port=8080

# Configuración para el descubrimiento de rutas en Eureka
spring.cloud.gateway.discovery.locator.enabled=true
spring.cloud.gateway.discovery.locator.lower-case-service-id=true

# Configuración para el ConfigServer
spring.config.import=optional:configserver:

# Configuración de rutas personalizadas (opcional, si necesitas rutas específicas)
spring.cloud.gateway.routes[0].id=ms-empleados
spring.cloud.gateway.routes[0].uri=lb://ms-empleados
spring.cloud.gateway.routes[0].predicates[0]=Path=/api/empleados/**

spring.cloud.gateway.routes[1].id=ms-justificativos
spring.cloud.gateway.routes[1].uri=lb://ms-justificativos
spring.cloud.gateway.routes[1].predicates[0]=Path=/api/justificativos/**

spring.cloud.gateway.routes[2].id=ms-calculo-planilla-sueldos
spring.cloud.gateway.routes[2].uri=lb://ms-calculo-planilla-sueldos
spring.cloud.gateway.routes[2].predicates[0]=Path=/api/planilla/**

#Logs mas detallados
logging.level.org.springframework.cloud.gateway=DEBUG
logging.level.org.springframework.cloud.netflix.eureka=DEBUG


globalcors:
cors-configurations:
'[/**]':
allowed-origin-patterns: '*'
allowed-methods: "*"
allowed-headers: "*"
allow-credentials: true

spring:
cloud:
gateway:
default-filters:
- DedupeResponseHeader=Access-Control-Allow-Origin Access-Control-Allow-Credentials, RETAIN_UNIQUE




